<nav class="bg-white shadow-sm sticky top-0 z-50">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      
      <div class="flex items-center">
        <a routerLink="/" class="flex items-center gap-2 text-2xl font-bold text-pink-600 hover:text-pink-700 transition">
        SweetShop
        </a>
      </div>

      <div class="flex items-center space-x-4">
        
        <a routerLink="/" 
           routerLinkActive="text-pink-600 bg-pink-50" 
           [routerLinkActiveOptions]="{exact: true}"
           class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-pink-600 hover:bg-gray-50 transition">
           Shop
        </a>

        <ng-container *ngIf="currentUser$ | async as user; else guestLinks">
          
          <a *ngIf="isAdmin(user)" 
             routerLink="/admin" 
             routerLinkActive="text-pink-600 bg-pink-50"
             class="px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-pink-600 hover:bg-gray-50 transition border border-dashed border-gray-300">
             Admin Panel
          </a>

          <div class="flex items-center gap-4 ml-4 border-l pl-4 border-gray-200">
            <div class="flex flex-col items-end">
              <span class="text-sm font-semibold text-gray-800">{{ user.email }}</span>
              <span class="text-xs text-gray-500 uppercase tracking-wider">{{ user.role }}</span>
            </div>
            
            <button (click)="logout()" 
                    class="px-4 py-2 border border-transparent text-sm font-medium rounded-full text-white bg-gray-600 hover:bg-gray-700 focus:outline-none transition shadow-sm">
              Logout
            </button>
          </div>
        </ng-container>

        <ng-template #guestLinks>
          <div class="flex items-center gap-2">
            <a routerLink="/auth/login" 
               routerLinkActive="text-pink-600"
               class="px-3 py-2 rounded-md text-sm font-medium text-gray-500 hover:text-gray-900 transition">
               Login
            </a>
            <a routerLink="/auth/register" 
               class="ml-2 px-4 py-2 border border-transparent text-sm font-medium rounded-full text-white bg-pink-500 hover:bg-pink-600 shadow-md hover:shadow-lg transition">
               Register
            </a>
          </div>
        </ng-template>

      </div>
    </div>
  </div>
</nav>

<div class="bg-gray-50 min-h-screen">
  <router-outlet></router-outlet>
</div>